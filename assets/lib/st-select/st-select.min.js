var stSelectOptionCount=1;$.fn.wisySelect=function(){var t=$(this).context,e=function(e){var o=$(e).find(".selected")[0].getBoundingClientRect();o.viewport=$(t.context).is("iframe")?$(t.context).height():Math.max(document.documentElement.clientHeight,window.innerHeight||0);var s=o.viewport,i={};o.viewport-o.bottom>=o.top?(s-=o.bottom,i.top=o.bottom,i.bottom="inherit"):(s=o.top,i.top="inherit",i.bottom=o.viewport-o.top),e.find(".select .options-box").css({width:o.width+"px","max-height":s+"px",top:i.top,bottom:i.bottom,left:o.left+"px"})};$("select.st-custom-select",t).each(function(){var t,e=$(this)[0],o=$(e.outerHTML).removeClass("st-custom-select").addClass("hidden").outerHTML(),s=$(e.outerHTML).find("option"),i=$(e).find('option[value="'+e.value+'"]')[0];t='<div class="st-custom-select">',t+='<div class="select">',t+='<div class="selected"><span>',"string"==typeof i.getAttribute("data-before")&&(t+=i.getAttribute("data-before")+" "),t+=i.innerText+'</span><i class="feather icon-chevron-down"></i></div>',t+='<div class="options-box">',t+="<ul>";for(var n=0;n<=s.length-1;n++){var c="object"==typeof s[n]?s[n]:{},l=c.innerText,a=c.value;t+="<li",t+=i.value==a?' class="active"':"",t+=' data-value="'+a+'">',"string"==typeof c.getAttribute("data-before")&&(t+=c.getAttribute("data-before")),t+=l+"</li>"}t+="</ul>",t+="</div>",t+="</div>",t+=o,t+="</div>",$(this).replaceWith(t)}),$(window).on("resize",function(){$("div.st-custom-select",t).each(function(){e($(this))})}),$(".st-custom-select .selected",t).on("click",function(o){var s=$(o.target),i=s.closest(".st-custom-select"),n=$(".st-custom-select",t);e(i),n.removeClass("open"),i.addClass("open")}),$(t).on("click",".st-custom-select>.select>.options-box>ul>li",function(e){var o=$(e.target),s=o.closestParents(".st-custom-select"),i=($(t).find(".st-custom-select"),{val:o.attr("data-value"),txt:o[0].innerHTML});o.closestParents(".select").find(">.selected>span").html(i.txt),s.find(".select .options-box ul li").removeClass("active"),s.find('.select .options-box ul li[data-value="'+i.val+'"]').addClass("active"),s.removeClass("open"),1==stSelectOptionCount&&s.find(">select").val(i.val).trigger("change"),stSelectOptionCount++}),stSelectOptionCount=1,$(t).on("click",function(e){var o=$(t).find(".st-custom-select");e.target.closest(".st-custom-select")||o.removeClass("open")}),$(t).on("scroll",function(){$(t).find(".st-custom-select.open").removeClass("open")})};